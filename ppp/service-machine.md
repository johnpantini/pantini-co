# Сервисная машина

## Через облачный сервис Northflank

{% hint style="info" %}
Машины в этом сервисе работают бесперебойно.

Для регистрации понадобится карта (подойдёт с нулевым балансом). Участники проектов сообщают, что можно воспользоваться [приложением](https://play.google.com/store/apps/details?id=com.ozan.android\&hl=ru\&gl=US) для получения виртуальной карты.
{% endhint %}

Переходим по [ссылке регистрации](https://app.northflank.com/signup), снизу нажимаем на маленькую иконку **GitHub**. Когда будет предложено указать репозитории, доступ к которым запросит **Northflank**, выберите вашу личную копию **ppp**:

![](<../.gitbook/assets/image (358).png>)

{% hint style="warning" %}
Если попытка входа через GitHub завершается ошибкой, создайте аккаунт классическим способом, придумав логин и пароль.
{% endhint %}

Придумайте логин и пароль, после чего вас перенесут в панель управления. Может потребоваться подтверждение электронной почты. Также могут попросить выбрать тему оформления - выбирайте нужную и нажимайте на кнопку **Choose theme**.

Если появится такая форма, нажимайте Link GitHub, привязывайте свой аккаунт.

![](<../.gitbook/assets/image (357).png>)

Создавайте новый проект **ppp (Create free project)**:

![](<../.gitbook/assets/image (355).png>)

Имя **ppp**, регион **Европа**:

![](<../.gitbook/assets/image (356).png>)

Далее в проекте создавайте новый сервис из контекстного меню в правом верхнем углу страницы (либо кнопкой **Add new service** в панели управления проектом, если это ваш первый сервис):

![](<../.gitbook/assets/image (360).png>)

Тип сервиса **Combined**, имя **ppp**, репозиторий **ppp** (ваша копия), ветвь **main**, тип сборки **Buildpack**:

![](<../.gitbook/assets/image (359) (1).png>)

Добавьте переменную окружения PORT со значением 3777 в секции **Environment variables**:

![](<../.gitbook/assets/image (347).png>)

В секции **Networking** добавьте порт HTTP 3777 под именем **dyno**:

![](<../.gitbook/assets/image (345).png>)

Нажимайте кнопку **Create service**. При создании сервиса могут потребовать ввести номер карты (с неё деньги списываться не будут - подойдёт и пустая, в том числе виртуальная).&#x20;

После завершения создания URL сервисной машины можно будет найти на странице сервиса в правой верхней части страницы. Он оканчивается на **code.run**

## Через облачный сервис Koyeb

{% hint style="info" %}
Этот сервис не требует привязки платёжной карты.
{% endhint %}

Переходим по ссылке [https://app.koyeb.com/auth/signup](https://app.koyeb.com/auth/signup)

Нажимаем на кнопку **Sign Up with GitHub**. Авторизуем сервис в **GitHub**, после чего проходим опросник. На первом этапе выбираем вариант **Personal**, а далее - что угодно:

![](<../.gitbook/assets/image (348).png>)

Активация сервиса займёт время, о чем будет сообщено:

![](<../.gitbook/assets/image (362).png>)

Процесс одобрения может занять около суток, следует проверять электронную почту. Когда процесс будет завершён, переходите к созданию нового приложения по ссылке [https://app.koyeb.com/apps/new](https://app.koyeb.com/apps/new)

Имя можно ввести **ppp**. Затем перейдите во вновь созданное приложение и нажмите **Create Service**. Пример заполнения показан на картинках ниже:

![В поле Repository укажите вашу копию репозитория ppp](<../.gitbook/assets/image (352).png>)

![](<../.gitbook/assets/image (349).png>)

![](<../.gitbook/assets/image (346).png>)

Нажимайте **Create Service** и ожидайте окончания сборки (должно занять менее минуты).

URL сервисной машины можно найти на странице [https://app.koyeb.com/](https://app.koyeb.com) в карточке приложения.
